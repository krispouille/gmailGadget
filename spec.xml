<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
    <ModulePrefs title="DoIt" description="just do it" height="20" author="krispouille" author_email="..." author_location="France">
        <Require feature="dynamic-height" />
        <Require feature="google.contentmatch">
            <Param name="extractors">google.com:SubjectExtractor</Param>
        </Require>
    </ModulePrefs>

    <Content type="html" view="card"><![CDATA[ 
        <script type="text/javascript">
            var require = function(url, condition, callback){
                  condition = condition || false;
                  if(condition){
                      var done = false;
                      var script = document.createElement("script");
                      script.src = url;
                      script.onload = script.onreadystatechange = function(){
                          if (!done && (!this.readyState || this.readyState == "loaded" || this.readyState == "complete")) {
                              done = true;
                              callback();
                          }
                      };
                      document.body.appendChild(script);
                  }
                  else{
                      callback();
                  }
            };

            (window.DT = function(){
                require('http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js', true/*window.jQuery===undefined || window.jQuery.fn.jquery < v*/, start);
                function start() {
                    (function() {
                        alert('done');
                    })();
                }
            })();
        </script>
        <div>Hello, world!</div>
    ]]></Content>
</Module>
